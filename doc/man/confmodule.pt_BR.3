.TH CONFMODULE 3
.SH NOME
confmodule \- comunica-se com o FronEnd do sistema de configuração Debian.
.SH RESUMO
  #!/bin/sh -e
  . /usr/share/debconf/confmodule
  db_version 2.0
  db_capb 'backup'
  CAPB=$RET
  db_input 'foo/bar' || true
  db_go || true
.SH DESCRIÇÃO
Esta é uma biblioteca de funções shell que facilita o comunicação com o
sistema de gerenciamento de configuração Debian. Ela pode se comunicar com
um FrontEnd através do protocolo debconf. O design é que cada comando no
protocolo é representado por uma função neste módulo. O nome da função é o
mesmo do comando, exceto que o nome é iniciado com "db_" é está em caixa
baixa. Chame a função e passe quaisquer parâmetros que você queira que
sigam o comando. Qualquer código de retorno textual do FrontEnd será
retornado para você na variável $RET, enquanto o código de retorno
numérico do FrontEnd será retornado como um código de retorno (e então
aquelas códigos de retorno devem ser capturados ou ignorados).
.SH NOTAS
Uma vez que essa biblioteca é carregada, qualquer texto que você enviar
para a saída posteriormente será enviado para a saída de erros padrão ao
invés da saída padrão. Esta é uma boa coisa geralmente, porque o texto
enviado para a saída padrão é interpretado pelo FrontEnd como comandos.
Caso você queira enviar um comando diretamente para o FrontEnd, você deve
enviá-lo para o desccritor de arquivo 3, como isso :
  echo GET foo/bar >&3
.P
A biblioteca checa para certificar-se se atualmente está conversando com
um FrontEnd examinando a variável DEBIAN_HAS_FRONTEND. Caso esta esteja
definida, é assumido que um FrontEnd está em execução. Caso contrário, a
biblioteca se torna um, e executa uma cópia do script que carregou a
biblioteca conectado a ela. Isto significa que se você se referenciar a
esta biblioteca, você deve fazer isso bem próximo do início de seu script,
pois tudo antes da referência à essa biblioteca pode ser executado
novamente.
.SH VEJA TAMBÉM
.BR dpkg-preconfigure (8),
.BR dpkg-reconfigure (8)
.BR debconf_specification no pacote debian-policy
.BR
.SH AUTOR
Joey Hess <joey@kitenet.net>
